<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="959" height="521"><defs></defs><g><g transform="translate(-530,-297) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="1319" y="503" width="167" height="207" opacity="0.2"></rect></g><g transform="translate(-530,-297) scale(1,1)"><rect fill="#ffffff" stroke="none" x="1312" y="496" width="167" height="207"></rect></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 1312 496 L 1479 496 L 1479 703 L 1312 703 L 1312 496 Z Z" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 1312 536 L 1479 536" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 1312 546 L 1479 546" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="1382" y="515.5">HUD</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1363" y="530.5">(from View)</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1317" y="563.5">+addShipItem()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1317" y="578.5">+setIsReady()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1317" y="593.5">+setCanReset()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1317" y="608.5">+onMenuItemMouseDown()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1317" y="623.5">+onDocumentMouseUp()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1317" y="638.5">+onResetClick()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1317" y="653.5">+onReadyClick()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1317" y="668.5">+show()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1317" y="683.5">+hide()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1317" y="698.5">+setWaitingForEnemy()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="1358" y="359" width="88" height="72" opacity="0.2"></rect></g><g transform="translate(-530,-297) scale(1,1)"><rect fill="#ffffff" stroke="none" x="1351" y="352" width="88" height="72"></rect></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 1351 352 L 1439 352 L 1439 424 L 1351 424 L 1351 352 Z Z" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 1351 392 L 1439 392" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 1351 402 L 1439 402" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="1381" y="371.5">View</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1362.5" y="386.5">(from View)</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1356" y="419.5">+on()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="1022" y="503" width="174" height="312" opacity="0.2"></rect></g><g transform="translate(-530,-297) scale(1,1)"><rect fill="#ffffff" stroke="none" x="1015" y="496" width="174" height="312"></rect></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 1015 496 L 1189 496 L 1189 808 L 1015 808 L 1015 496 Z Z" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 1015 536 L 1189 536" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 1015 546 L 1189 546" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="1085" y="515.5">Setup</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1068" y="530.5">(from State)</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1020" y="563.5">+show()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1020" y="578.5">+hide()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1020" y="593.5">+registerListeners()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1020" y="608.5">+createEnvironment()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1020" y="623.5">+createControls()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1020" y="638.5">+createGrid()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1020" y="653.5">+enableControls()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1020" y="668.5">+disableControls()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1020" y="683.5">+update(delta: Number)</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1020" y="698.5">+loadShips()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1020" y="713.5">+selectShip(ship: Ship)</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1020" y="728.5">+deselectShip()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1020" y="743.5">+placeShip(): Boolean</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1020" y="758.5">+rotateShip()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1020" y="773.5">+onDocumentMouseMove(e)</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1020" y="788.5">+onReady()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1020" y="803.5">+render(delta: Number)</text></g></g><g transform="translate(-530,-297) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="1071" y="314" width="77" height="117" opacity="0.2"></rect></g><g transform="translate(-530,-297) scale(1,1)"><rect fill="#ffffff" stroke="none" x="1064" y="307" width="77" height="117"></rect></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 1064 307 L 1141 307 L 1141 424 L 1064 424 L 1064 307 Z Z" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 1064 347 L 1141 347" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 1064 357 L 1141 357" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="italic" font-weight="bold" text-decoration="none" x="1087" y="326.5">State</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1068.5" y="341.5">(from State)</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1069" y="374.5">+show()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1069" y="389.5">+hide()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1069" y="404.5">+update()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="1069" y="419.5">+render()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 1102 495 L 1102 425" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><path fill="#FFFFFF" stroke="none" d="M 1110.419035512032 445.3253497152483 L 1102 425 L 1093.580964487968 445.3253497152483"></path></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 1110.419035512032 445.3253497152483 L 1102 425 L 1093.580964487968 445.3253497152483 L 1110.419035512032 445.3253497152483" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 1395 495 L 1395 425" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><path fill="#FFFFFF" stroke="none" d="M 1403.419035512032 445.3253497152483 L 1395 425 L 1386.580964487968 445.3253497152483"></path></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 1403.419035512032 445.3253497152483 L 1395 425 L 1386.580964487968 445.3253497152483 L 1403.419035512032 445.3253497152483" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 1311 614 L 1190 636" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><path fill="#FFFFFF" stroke="none" d="M 1199.2457285701498 630.0404275986346 L 1190 636 L 1200.7517714269409 638.3236633109854 L 1211.645138022198 632.0645203596004"></path></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 1199.2457285701498 630.0404275986346 L 1190 636 L 1200.7517714269409 638.3236633109854 L 1211.645138022198 632.0645203596004 L 1199.2457285701498 630.0404275986346" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="547" y="375" width="328" height="100" opacity="0.2"></rect></g><g transform="translate(-530,-297) scale(1,1)"><rect fill="#ffffff" stroke="none" x="540" y="368" width="328" height="100"></rect></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 540 368 L 868 368 L 868 468 L 540 468 L 540 368 Z Z" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 540 421 L 868 421" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 540 431 L 868 431" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="671" y="385.5">«singleton»</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="italic" font-weight="bold" text-decoration="none" x="687" y="400.5">Setup</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="661" y="415.5">(from Services)</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="545" y="448.5">+getShips(): $.Deffered</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="545" y="463.5">+saveBoard(gameId: Number, board: Board): $.Deffered</text></g></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 791 469 L 1014 600" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="785" y="575" width="90" height="72" opacity="0.2"></rect></g><g transform="translate(-530,-297) scale(1,1)"><rect fill="#ffffff" stroke="none" x="778" y="568" width="90" height="72"></rect></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 778 568 L 868 568 L 868 640 L 778 640 L 778 568 Z Z" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 778 608 L 868 608" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 778 618 L 868 618" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="788" y="587.5">ShipFactory</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="782.5" y="602.5">(from Factory)</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="783" y="635.5">+create()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 869 612 L 1014 637" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><rect fill="#C0C0C0" stroke="none" x="739" y="712" width="136" height="102" opacity="0.2"></rect></g><g transform="translate(-530,-297) scale(1,1)"><rect fill="#ffffff" stroke="none" x="732" y="705" width="136" height="102"></rect></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 732 705 L 868 705 L 868 807 L 732 807 L 732 705 Z Z" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 732 745 L 868 745" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 732 755 L 868 755" stroke-miterlimit="10"></path></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="bold" text-decoration="none" x="761" y="724.5">BoardFactory</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="759.5" y="739.5">(from Factory)</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="737" y="772.5">+create()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="737" y="787.5">+createPlayerboard()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><g><path fill="none" stroke="none"></path><text fill="#000000" stroke="none" font-family="Arial" font-size="13px" font-style="normal" font-weight="normal" text-decoration="none" x="737" y="802.5">+createEnemyBoard()</text></g></g><g transform="translate(-530,-297) scale(1,1)"><path fill="none" stroke="#000000" d="M 869 732 L 1014 682" stroke-miterlimit="10"></path></g></g></svg>